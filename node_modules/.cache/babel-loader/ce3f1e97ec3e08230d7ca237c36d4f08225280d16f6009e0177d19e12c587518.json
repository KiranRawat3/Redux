{"ast":null,"code":"const redux = require(\"redux\");\nconst createStore = redux.createStore;\nconst applyMiddleware = redux.applyMiddleware;\nconst thunkMiddleware = require(\"redux-thunk\").default;\nconst axios = require(\"axios\");\nasyncAction = () => {\n  console.log(\"hI !!!!!!!!!!\");\n  const initialState = {\n    loading: false,\n    users: [],\n    error: \"\"\n  };\n  const FETCH_USERS_REQUEST = \"FETCH_USERS_REQUEST\";\n  const FETCH_USERS_SUCCESS = \"FETCH_USERS_SUCCESS\";\n  const FETCH_USERS_FAILURE = \"FETCH_USERS_FAILURE\";\n  const fetchUsersRequest = () => {\n    return {\n      type: FETCH_USERS_REQUEST\n    };\n  };\n  const fetchUsersSuccess = users => {\n    return {\n      type: FETCH_USERS_SUCCESS,\n      payload: users\n    };\n  };\n  const fetchUsersFailure = error => {\n    return {\n      type: FETCH_USERS_FAILURE,\n      payload: error\n    };\n  };\n  const reducer = function () {\n    let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n    let action = arguments.length > 1 ? arguments[1] : undefined;\n    switch (action.type) {\n      case FETCH_USERS_REQUEST:\n        return {\n          ...state,\n          loading: true\n        };\n      case FETCH_USERS_SUCCESS:\n        return {\n          loading: false,\n          users: action.payload,\n          error: \"\"\n        };\n      case FETCH_USERS_FAILURE:\n        return {\n          loading: false,\n          users: [],\n          error: action.payload\n        };\n    }\n  };\n  const fetchUsers = () => {\n    //ACTION CREATOR\n    return function (dispatch) {\n      dispatch(fetchUsersRequest());\n      axios.get('https://jsonplaceholder.typicode.com/users').then(response => {\n        const users = response.data.map(user => user.id);\n        dispatch(fetchUsersSuccess(users));\n      }).catch(error => {\n        dispatch(fetchUsersFailure(error.message));\n      });\n    };\n  };\n  const store = createStore(reducer);\n  store.subscribe(() => {\n    console.log(store.getState());\n  });\n  store.dispatch(fetchUsers());\n};\nexport default asyncAction();","map":{"version":3,"names":["redux","require","createStore","applyMiddleware","thunkMiddleware","default","axios","asyncAction","console","log","initialState","loading","users","error","FETCH_USERS_REQUEST","FETCH_USERS_SUCCESS","FETCH_USERS_FAILURE","fetchUsersRequest","type","fetchUsersSuccess","payload","fetchUsersFailure","reducer","state","arguments","length","undefined","action","fetchUsers","dispatch","get","then","response","data","map","user","id","catch","message","store","subscribe","getState"],"sources":["/home/innobit/Desktop/redux-demo/src/others/asyncAction.js"],"sourcesContent":["\nconst redux = require(\"redux\");\nconst createStore = redux.createStore;\nconst applyMiddleware = redux.applyMiddleware;\nconst thunkMiddleware = require(\"redux-thunk\").default;\nconst axios = require(\"axios\");\n asyncAction=()=>{\n\n\nconsole.log(\"hI !!!!!!!!!!\")\nconst initialState = {\n  loading: false,\n  users: [],\n  error: \"\",\n};\n\nconst FETCH_USERS_REQUEST = \"FETCH_USERS_REQUEST\";\nconst FETCH_USERS_SUCCESS = \"FETCH_USERS_SUCCESS\";\nconst FETCH_USERS_FAILURE = \"FETCH_USERS_FAILURE\";\n\nconst fetchUsersRequest = () => {\n  return {\n    type: FETCH_USERS_REQUEST,\n  };\n};\n\nconst fetchUsersSuccess = (users) => {\n  return {\n    type: FETCH_USERS_SUCCESS,\n    payload: users,\n  };\n};\n\nconst fetchUsersFailure = (error) => {\n  return {\n    type: FETCH_USERS_FAILURE,\n    payload: error,\n  };\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case FETCH_USERS_REQUEST:\n      return {\n        ...state,\n        loading: true,\n      };\n    case FETCH_USERS_SUCCESS:\n      return {\n        loading: false,\n        users: action.payload,\n        error: \"\",\n      };\n    case FETCH_USERS_FAILURE:\n      return {\n        loading: false,\n        users: [],\n        error: action.payload,\n      };\n  }\n \n}\nconst fetchUsers = () => {   //ACTION CREATOR\n  return function (dispatch) {\n    dispatch(fetchUsersRequest())\n    axios.get('https://jsonplaceholder.typicode.com/users')\n      .then((response) => {\n        const users = response.data.map(user => user.id)\n       dispatch(fetchUsersSuccess(users))\n      })\n      .catch(error => {\n        dispatch(fetchUsersFailure(error.message));\n      });\n  }\n};\nconst store = createStore(reducer);\nstore.subscribe(() => {\n  console.log(store.getState());\n});\nstore.dispatch(fetchUsers());\n  \n};\n\nexport default asyncAction()"],"mappings":"AACA,MAAMA,KAAK,GAAGC,OAAO,CAAC,OAAO,CAAC;AAC9B,MAAMC,WAAW,GAAGF,KAAK,CAACE,WAAW;AACrC,MAAMC,eAAe,GAAGH,KAAK,CAACG,eAAe;AAC7C,MAAMC,eAAe,GAAGH,OAAO,CAAC,aAAa,CAAC,CAACI,OAAO;AACtD,MAAMC,KAAK,GAAGL,OAAO,CAAC,OAAO,CAAC;AAC7BM,WAAW,GAACA,CAAA,KAAI;EAGjBC,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC;EAC5B,MAAMC,YAAY,GAAG;IACnBC,OAAO,EAAE,KAAK;IACdC,KAAK,EAAE,EAAE;IACTC,KAAK,EAAE;EACT,CAAC;EAED,MAAMC,mBAAmB,GAAG,qBAAqB;EACjD,MAAMC,mBAAmB,GAAG,qBAAqB;EACjD,MAAMC,mBAAmB,GAAG,qBAAqB;EAEjD,MAAMC,iBAAiB,GAAGA,CAAA,KAAM;IAC9B,OAAO;MACLC,IAAI,EAAEJ;IACR,CAAC;EACH,CAAC;EAED,MAAMK,iBAAiB,GAAIP,KAAK,IAAK;IACnC,OAAO;MACLM,IAAI,EAAEH,mBAAmB;MACzBK,OAAO,EAAER;IACX,CAAC;EACH,CAAC;EAED,MAAMS,iBAAiB,GAAIR,KAAK,IAAK;IACnC,OAAO;MACLK,IAAI,EAAEF,mBAAmB;MACzBI,OAAO,EAAEP;IACX,CAAC;EACH,CAAC;EAED,MAAMS,OAAO,GAAG,SAAAA,CAAA,EAAkC;IAAA,IAAjCC,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAGd,YAAY;IAAA,IAAEiB,MAAM,GAAAH,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;IAC3C,QAAQC,MAAM,CAACT,IAAI;MACjB,KAAKJ,mBAAmB;QACtB,OAAO;UACL,GAAGS,KAAK;UACRZ,OAAO,EAAE;QACX,CAAC;MACH,KAAKI,mBAAmB;QACtB,OAAO;UACLJ,OAAO,EAAE,KAAK;UACdC,KAAK,EAAEe,MAAM,CAACP,OAAO;UACrBP,KAAK,EAAE;QACT,CAAC;MACH,KAAKG,mBAAmB;QACtB,OAAO;UACLL,OAAO,EAAE,KAAK;UACdC,KAAK,EAAE,EAAE;UACTC,KAAK,EAAEc,MAAM,CAACP;QAChB,CAAC;IACL;EAEF,CAAC;EACD,MAAMQ,UAAU,GAAGA,CAAA,KAAM;IAAI;IAC3B,OAAO,UAAUC,QAAQ,EAAE;MACzBA,QAAQ,CAACZ,iBAAiB,CAAC,CAAC,CAAC;MAC7BX,KAAK,CAACwB,GAAG,CAAC,4CAA4C,CAAC,CACpDC,IAAI,CAAEC,QAAQ,IAAK;QAClB,MAAMpB,KAAK,GAAGoB,QAAQ,CAACC,IAAI,CAACC,GAAG,CAACC,IAAI,IAAIA,IAAI,CAACC,EAAE,CAAC;QACjDP,QAAQ,CAACV,iBAAiB,CAACP,KAAK,CAAC,CAAC;MACnC,CAAC,CAAC,CACDyB,KAAK,CAACxB,KAAK,IAAI;QACdgB,QAAQ,CAACR,iBAAiB,CAACR,KAAK,CAACyB,OAAO,CAAC,CAAC;MAC5C,CAAC,CAAC;IACN,CAAC;EACH,CAAC;EACD,MAAMC,KAAK,GAAGrC,WAAW,CAACoB,OAAO,CAAC;EAClCiB,KAAK,CAACC,SAAS,CAAC,MAAM;IACpBhC,OAAO,CAACC,GAAG,CAAC8B,KAAK,CAACE,QAAQ,CAAC,CAAC,CAAC;EAC/B,CAAC,CAAC;EACFF,KAAK,CAACV,QAAQ,CAACD,UAAU,CAAC,CAAC,CAAC;AAE5B,CAAC;AAED,eAAerB,WAAW,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}